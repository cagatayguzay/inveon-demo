<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Lorem Ipsum | Category Page</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" type="text/css" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <!-- Custom CSS -->
        <link rel="stylesheet" href="css/main.css">
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-light bg-light sticky-top box-shadow-d">
            <div class="container">
                <a class="navbar-brand" href="#!"><span>Lorem</span><span>Ipsum</span></a>
                <div class="menu-relative">
                    <button class="btn btn-outline-secondary rounded-0"> <i class="fa-solid fa-cart-shopping"></i> <span id="productCount">0</span></button>
                    <div class="cart-menu-div">
                        <div class="cart-menu-short">
                            <div class="cart-menu-product">
                                <div class="cart-menu-product-img">
                                    <img class="img-fluid" src="assets/product-images/11/1.webp" alt="">
                                </div>
                                <div class="cart-menu-product-name">
                                    ABMX Eien Xyzen 5 3100
                                </div>
                                <div class="cart-menu-product-count">
                                    1 item
                                </div>
                                <div class="cart-menu-product-trash">
                                    <button class="btn"><i class="fa-solid fa-trash"></i></button>
                                </div>
                            </div>
                            <hr>
                            <div class="cart-link">
                                <span>Total $450</span> <a href="" class="btn btn-dark">Checkout <i class="fa-solid fa-square-up-right"></i></a>
                            </div>
                        </div>
                        <!-- <div class="cart-menu-empty">
                            Empty
                        </div> -->
                    </div>
                </div>
                
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container position-relative">
                <div class="row justify-content-center">
                    <div class="col-xl-6">
                        <div class="text-center text-white">
                            <!-- Page heading-->
                            <h1 class="category-title">Gaming Desktops</h1>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Icons Grid-->
        <section class="features-icons bg-light text-center">
            <div class="container">
                <!-- <div class="row">
                    <div class="col-5 col-lg-3">
                         <div>
                            <button id="getData" class="btn btn-primary">Data Getir</button>
                         </div>
                    </div>
                    <div class="col-7 col-lg-9">
                        <div class="row">
                            <div class="col-12 col-lg-4">
                                <div class="card">
                                    <img class="card-img-top" src="https://picsum.photos/id/1/200/300" alt="product_img">
                                    <div class="card-body">
                                        <a href="##" class="card-title">ABMX Eien Xyzen 5 3100</a>
                                        <span class="sku">SKU: G-HS-119</span>
                                        <div class="card-price">
                                            <div class="current-price">
                                                $900
                                            </div>
                                            <div class="discount-price">
                                                $810
                                            </div>
                                        </div>
                                        <div>
                                            <ul class="computer-featured-list">
                                                <li>
                                                    <div class="computer-info-list">
                                                        <div>
                                                            CPU/Processor:
                                                        </div>
                                                        <div>
                                                            x5 3100f Gaming
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="computer-info-list">
                                                        <div>
                                                            Video Graphics Card:
                                                        </div>
                                                        <div>
                                                            CMP k7500 Gaming
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="computer-info-list">
                                                        <div>
                                                            Powered by:
                                                        </div>
                                                        <div>
                                                            KJH Gaming Services
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                            
                                        </div>
                                        <div class="text-center">
                                            <button class="btn btn-primary card-add-btn"><i class="fa-solid fa-cart-plus"></i> Add Cart</button>
                                        </div>
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->

                <div class="row" id="productRow">
 
                </div>
                
            </div>
        </section>

        <!-- Footer-->
        <footer class="footer bg-dark">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 h-100 text-center text-lg-start my-auto">
                        <ul class="list-inline mb-2">
                            <li class="list-inline-item"><a href="#!">About</a></li>
                            <li class="list-inline-item">⋅</li>
                            <li class="list-inline-item"><a href="#!">Contact</a></li>
                            <li class="list-inline-item">⋅</li>
                            <li class="list-inline-item"><a href="#!">Terms of Use</a></li>
                            <li class="list-inline-item">⋅</li>
                            <li class="list-inline-item"><a href="#!">Privacy Policy</a></li>
                        </ul>
                        <p class="text-muted small mb-4 mb-lg-0">&copy; Your Website 2022. All Rights Reserved.</p>
                    </div>
                    <div class="col-lg-6 h-100 text-center text-lg-end my-auto">
                        <ul class="list-inline mb-0">
                            <li class="list-inline-item me-4">
                                <a href="#!"><i class="bi-facebook fs-3"></i></a>
                            </li>
                            <li class="list-inline-item me-4">
                                <a href="#!"><i class="bi-twitter fs-3"></i></a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!"><i class="bi-instagram fs-3"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- jQuery JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- Custom JS -->
        <script src="js/global.js"></script>

        <script>
            $(document).ready(function () {

                $('.menu-relative').hover(function () {
                        // over
                        $('.cart-menu-div').fadeIn();
                    }, function () {
                        // out
                        $('.cart-menu-div').fadeOut();
                    }
                );
                    

                for (let i = 0; i < productsData.length; ++i) {
                    $(  '<div class="col-12 col-lg-4 responsive-mb">'+
                            '<div class="card" data-id="'+ productsData[i]['id'] +'">'+ 
                                '<img class="card-img-top" src="'+ productsData[i]['productImages'][1] +'" alt="product_img">'+
                                '<div class="card-body">'+
                                    '<a href="##" class="card-title">'+ productsData[i]['title'] +'</a>'+
                                    '<span class="sku">'+ productsData[i]['sku'] +'</span>'+
                                    '<div class="card-price">'+
                                        '<div class="current-price '+ (productsData[i]['discount'] > 0 ? 'text-discount' : "" ) +'">$'+ productsData[i]['money'] +'</div>'+
                                        (productsData[i]['discount'] > 0 ? '<div class="save-price">save %'+ productsData[i]['discount'] +'</div>': '') +
                                        (productsData[i]['discount'] > 0 ? '<div class="discount-price">$'+ (productsData[i]['money'] - ((productsData[i]['money']*productsData[i]['discount'])/100)) +'</div>': '') +
                                    '</div>'+
                                    '<div>'+
                                        '<ul class="computer-featured-list">'+
                                            '<li>'+
                                                '<div class="computer-info-list">'+
                                                    '<div>CPU/Processor:</div>'+
                                                    '<div>'+ productsData[i]['info'][1] +'</div>'+
                                                '</div>'+
                                            '</li>'+
                                            '<li>'+
                                                '<div class="computer-info-list">'+
                                                    '<div>Video Graphics Card:</div>'+
                                                    '<div>'+ productsData[i]['info'][2] +'</div>'+
                                                '</div>'+
                                            '</li>'+
                                            '<li>'+
                                                '<div class="computer-info-list">'+
                                                    '<div>Powered by:</div>'+
                                                    '<div>'+ productsData[i]['info'][3] +'</div>'+
                                                '</div>'+
                                            '</li>'+
                                        '</ul>'+
                                    '</div>'+
                                    '<div class="text-center"><button class="btn btn-primary card-add-btn" data-id="'+ productsData[i]['id'] +'"><i class="fa-solid fa-cart-plus"></i> Add Cart</button></div>'+
                                '</div>'+
                            '</div>'+
                        '</div>').appendTo('#productRow');
                }


                // var globalCart = [];
                // $('.card-add-btn').click(function (e) { 
                //     e.preventDefault();

                //     var selectItem = $(this).data('id');
                //     var searchResult = computerData.find(p=> p.id == selectItem);
                //     globalCart.push(searchResult);

                //     window.localStorage.setItem("globalCart", JSON.stringify(globalCart));
                //     var retrievedObject = localStorage.getItem('globalCart');
                //     console.log('cartStorage: ', JSON.parse(retrievedObject));

                //     // console.log(localStorageData);
                // });


                $('.card-add-btn').click(function (e) { 
                    e.preventDefault();

                    var selectItem = $(this).data('id');
                    var searchResult = productsData.find(p=> p.id == selectItem);
                    // ++retrievedObjectParse.length;
                    setCart(searchResult);
                    // console.log(retrievedObjectParse);
                });



                $('#getData').click(function (e) { 
                    e.preventDefault();

                    localStorage.setItem("name", "Jack Sparrow");
                    console.log(localStorage.getItem("name"));
                });
            });
        </script>
    </body>
</html>
